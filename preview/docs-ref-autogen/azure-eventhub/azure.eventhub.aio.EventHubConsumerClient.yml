### YamlMime:UniversalReference
api_name: []
items:
- children:
  - azure.eventhub.aio.EventHubConsumerClient.close
  - azure.eventhub.aio.EventHubConsumerClient.from_connection_string
  - azure.eventhub.aio.EventHubConsumerClient.get_eventhub_properties
  - azure.eventhub.aio.EventHubConsumerClient.get_partition_ids
  - azure.eventhub.aio.EventHubConsumerClient.get_partition_properties
  - azure.eventhub.aio.EventHubConsumerClient.receive
  - azure.eventhub.aio.EventHubConsumerClient.receive_batch
  class: azure.eventhub.aio.EventHubConsumerClient
  example:
  - "Create a new instance of the EventHubConsumerClient.<!--[!code-python[Main](les\\\
    async_samples\\sample_code_eventhub_async.py )]-->\n\n<!-- literal_block {\"ids\"\
    : [], \"classes\": [], \"names\": [], \"dupnames\": [], \"backrefs\": [], \"source\"\
    : \"D:\\\\a\\\\1\\\\s\\\\source_code\\\\9\\\\azure-eventhub-5.1.0b1\\\\samples\\\
    \\async_samples\\\\sample_code_eventhub_async.py\", \"xml:space\": \"preserve\"\
    , \"language\": \"python\", \"linenos\": false, \"highlight_args\": {\"linenostart\"\
    : 1}} -->\n\n````python\n\n   import os\n   from azure.eventhub.aio import EventHubConsumerClient,\
    \ EventHubSharedKeyCredential\n\n   fully_qualified_namespace = os.environ['EVENT_HUB_HOSTNAME']\n\
    \   eventhub_name = os.environ['EVENT_HUB_NAME']\n   shared_access_policy = os.environ['EVENT_HUB_SAS_POLICY']\n\
    \   shared_access_key = os.environ['EVENT_HUB_SAS_KEY']\n\n   consumer = EventHubConsumerClient(fully_qualified_namespace=fully_qualified_namespace,\n\
    \                                     consumer_group='$Default',\n           \
    \                          eventhub_name=eventhub_name,\n                    \
    \                 credential=EventHubSharedKeyCredential(shared_access_policy,\
    \ shared_access_key))\n\n   ````\n"
  fullName: azure.eventhub.aio.EventHubConsumerClient
  inheritance:
  - inheritance:
    - inheritance:
      - type: builtins.object
      type: azure.eventhub._client_base.ClientBase
    type: azure.eventhub.aio._client_base_async.ClientBaseAsync
  langs:
  - python
  module: azure.eventhub.aio
  name: EventHubConsumerClient
  summary: 'The EventHubConsumerClient class defines a high level interface for

    receiving events from the Azure Event Hubs service.


    The main goal of *EventHubConsumerClient* is to receive events from all partitions
    of an EventHub with

    load-balancing and checkpointing.


    When multiple *EventHubConsumerClient* instances are running against the same
    event hub, consumer group and

    checkpointing location, the partitions will be evenly distributed among them.


    To enable load-balancing and persisted checkpoints, checkpoint_store must be set
    when creating the

    *EventHubConsumerClient*.

    If a checkpoint store is not provided, the checkpoint will be maintained internally
    in memory.


    An *EventHubConsumerClient* can also receive from a specific partition when you
    call its method *receive()*

    and specify the partition_id.

    Load-balancing won''t work in single-partition mode. But users can still save
    checkpoints if the checkpoint_store

    is set.'
  syntax:
    parameters:
    - description: 'The fully qualified host name for the Event Hubs namespace.

        The namespace format is: *<yournamespace>.servicebus.windows.net*.'
      id: fully_qualified_namespace
      type:
      - str
    - description: The path of the specific Event Hub to connect the client to.
      id: eventhub_name
      type:
      - str
    - description: Receive events from the event hub for this consumer group.
      id: consumer_group
      type:
      - str
    - description: 'The credential object used for authentication which

        implements a particular interface for getting tokens. It accepts

        <xref:azure.eventhub.aio.EventHubSharedKeyCredential>, or credential objects

        generated by the azure-identity library and objects that implement the *get_token(self,
        *scopes)* method.'
      id: credential
      type:
      - azure.core.credentials.TokenCredential
  type: class
  uid: azure.eventhub.aio.EventHubConsumerClient
- class: azure.eventhub.aio.EventHubConsumerClient
  example:
  - "Close down the client.<!--[!code-python[Main](les\\async_samples\\sample_code_eventhub_async.py\
    \ )]-->\n\n<!-- literal_block {\"ids\": [], \"classes\": [], \"names\": [], \"\
    dupnames\": [], \"backrefs\": [], \"source\": \"D:\\\\a\\\\1\\\\s\\\\source_code\\\
    \\9\\\\azure-eventhub-5.1.0b1\\\\samples\\\\async_samples\\\\sample_code_eventhub_async.py\"\
    , \"xml:space\": \"preserve\", \"language\": \"python\", \"linenos\": false, \"\
    highlight_args\": {\"linenostart\": 1}} -->\n\n````python\n\n   import os\n\n\
    \   event_hub_connection_str = os.environ['EVENT_HUB_CONN_STR']\n   eventhub_name\
    \ = os.environ['EVENT_HUB_NAME']\n\n   from azure.eventhub.aio import EventHubConsumerClient\n\
    \   consumer = EventHubConsumerClient.from_connection_string(\n       conn_str=event_hub_connection_str,\n\
    \       consumer_group='$Default',\n       eventhub_name=eventhub_name  # EventHub\
    \ name should be specified if it doesn't show up in connection string.\n   )\n\
    \n   logger = logging.getLogger(\"azure.eventhub\")\n\n   async def on_event(partition_context,\
    \ event):\n       # Put your code here.\n       # If the operation is i/o intensive,\
    \ async will have better performance.\n       logger.info(\"Received event from\
    \ partition: {}\".format(partition_context.partition_id))\n\n   # The receive\
    \ method is a coroutine which will be blocking when awaited.\n   # It can be executed\
    \ in an async task for non-blocking behavior, and combined with the 'close' method.\n\
    \n   recv_task = asyncio.ensure_future(consumer.receive(on_event=on_event))\n\
    \   await asyncio.sleep(3)  # keep receiving for 3 seconds\n   recv_task.cancel()\
    \  # stop receiving\n\n   # Close down the consumer handler explicitly.\n   await\
    \ consumer.close()\n\n   ````\n"
  fullName: azure.eventhub.aio.EventHubConsumerClient.close
  langs:
  - python
  module: azure.eventhub.aio
  name: close() -> None
  namewithoutparameters: close
  summary: Stop retrieving events from the Event Hub and close the underlying AMQP
    connection and links.
  syntax:
    content: close() -> None
    return:
      type:
      - None
  type: method
  uid: azure.eventhub.aio.EventHubConsumerClient.close
- class: azure.eventhub.aio.EventHubConsumerClient
  example:
  - "Create a new instance of the EventHubConsumerClient from connection string.<!--[!code-python[Main](les\\\
    async_samples\\sample_code_eventhub_async.py )]-->\n\n<!-- literal_block {\"ids\"\
    : [], \"classes\": [], \"names\": [], \"dupnames\": [], \"backrefs\": [], \"source\"\
    : \"D:\\\\a\\\\1\\\\s\\\\source_code\\\\9\\\\azure-eventhub-5.1.0b1\\\\samples\\\
    \\async_samples\\\\sample_code_eventhub_async.py\", \"xml:space\": \"preserve\"\
    , \"language\": \"python\", \"linenos\": false, \"highlight_args\": {\"linenostart\"\
    : 1}} -->\n\n````python\n\n   import os\n   from azure.eventhub.aio import EventHubConsumerClient\n\
    \   event_hub_connection_str = os.environ['EVENT_HUB_CONN_STR']\n   eventhub_name\
    \ = os.environ['EVENT_HUB_NAME']\n   consumer = EventHubConsumerClient.from_connection_string(\n\
    \       conn_str=event_hub_connection_str,\n       consumer_group='$Default',\n\
    \       eventhub_name=eventhub_name  # EventHub name should be specified if it\
    \ doesn't show up in connection string.\n   )\n\n   ````\n"
  fullName: azure.eventhub.aio.EventHubConsumerClient.from_connection_string
  langs:
  - python
  module: azure.eventhub.aio
  name: from_connection_string
  namewithoutparameters: from_connection_string
  summary: Create an EventHubConsumerClient from a connection string.
  syntax:
    parameters:
    - description: The connection string of an Event Hub.
      id: conn_str
      isRequired: true
      type:
      - str
    - description: Receive events from the Event Hub for this consumer group.
      id: consumer_group
      isRequired: true
      type:
      - str
    return:
      type:
      - azure.eventhub.aio.EventHubConsumerClient
  type: method
  uid: azure.eventhub.aio.EventHubConsumerClient.from_connection_string
- class: azure.eventhub.aio.EventHubConsumerClient
  fullName: azure.eventhub.aio.EventHubConsumerClient.get_eventhub_properties
  langs:
  - python
  module: azure.eventhub.aio
  name: get_eventhub_properties() -> typing.Dict[str, typing.Any]
  namewithoutparameters: get_eventhub_properties
  summary: "Get properties of the Event Hub.\n\nKeys in the returned dictionary include:\n\
    \n   * *eventhub_name* (str) \n\n   * *created_at* (UTC datetime.datetime) \n\n\
    \   * *partition_ids* (list[str])"
  syntax:
    content: get_eventhub_properties() -> typing.Dict[str, typing.Any]
    return:
      type:
      - dict
  type: method
  uid: azure.eventhub.aio.EventHubConsumerClient.get_eventhub_properties
- class: azure.eventhub.aio.EventHubConsumerClient
  fullName: azure.eventhub.aio.EventHubConsumerClient.get_partition_ids
  langs:
  - python
  module: azure.eventhub.aio
  name: get_partition_ids() -> typing.List[str]
  namewithoutparameters: get_partition_ids
  summary: Get partition IDs of the Event Hub.
  syntax:
    content: get_partition_ids() -> typing.List[str]
    return:
      type:
      - list[str]
  type: method
  uid: azure.eventhub.aio.EventHubConsumerClient.get_partition_ids
- class: azure.eventhub.aio.EventHubConsumerClient
  exceptions:
  - type: azure.eventhub.exceptions.EventHubError
  fullName: azure.eventhub.aio.EventHubConsumerClient.get_partition_properties
  langs:
  - python
  module: azure.eventhub.aio
  name: 'get_partition_properties(partition_id: str) -> typing.Dict[str, typing.Any]'
  namewithoutparameters: get_partition_properties
  summary: "Get properties of the specified partition.\n\nKeys in the properties dictionary\
    \ include:\n\n   * *eventhub_name* (str) \n\n   * *id* (str) \n\n   * *beginning_sequence_number*\
    \ (int) \n\n   * *last_enqueued_sequence_number* (int) \n\n   * *last_enqueued_offset*\
    \ (str) \n\n   * *last_enqueued_time_utc* (UTC datetime.datetime) \n\n   * *is_empty*\
    \ (bool)"
  syntax:
    content: 'get_partition_properties(partition_id: str) -> typing.Dict[str, typing.Any]'
    parameters:
    - description: The target partition ID.
      id: partition_id
      isRequired: true
      type:
      - str
    return:
      type:
      - dict
  type: method
  uid: azure.eventhub.aio.EventHubConsumerClient.get_partition_properties
- class: azure.eventhub.aio.EventHubConsumerClient
  example:
  - "Receive events from the EventHub.<!--[!code-python[Main](les\\async_samples\\\
    sample_code_eventhub_async.py )]-->\n\n<!-- literal_block {\"ids\": [], \"classes\"\
    : [], \"names\": [], \"dupnames\": [], \"backrefs\": [], \"source\": \"D:\\\\\
    a\\\\1\\\\s\\\\source_code\\\\9\\\\azure-eventhub-5.1.0b1\\\\samples\\\\async_samples\\\
    \\sample_code_eventhub_async.py\", \"xml:space\": \"preserve\", \"language\":\
    \ \"python\", \"linenos\": false, \"highlight_args\": {\"linenostart\": 1}} -->\n\
    \n````python\n\n       logger = logging.getLogger(\"azure.eventhub\")\n\n    \
    \   async def on_event(partition_context, event):\n           # Put your code\
    \ here.\n           # If the operation is i/o intensive, async will have better\
    \ performance.\n           logger.info(\"Received event from partition: {}\".format(partition_context.partition_id))\n\
    \n       async with consumer:\n           await consumer.receive(\n          \
    \     on_event=on_event,\n               starting_position=\"-1\",  # \"-1\" is\
    \ from the beginning of the partition.\n           )\n\n   ````\n"
  fullName: azure.eventhub.aio.EventHubConsumerClient.receive
  langs:
  - python
  module: azure.eventhub.aio
  name: receive
  namewithoutparameters: receive
  summary: Receive events from partition(s), with optional load-balancing and checkpointing.
  syntax:
    parameters:
    - description: 'The callback function for handling a received event. The callback
        takes two

        parameters: *partition_context* which contains partition context and *event*
        which is the received event.

        The callback function should be defined like: *on_event(partition_context,
        event)*.

        For detailed partition context information, please refer to

        <xref:azure.eventhub.aio.PartitionContext>.'
      id: on_event
      isRequired: true
      type:
      - Callable[azure.eventhub.aio.PartitionContext, Optional[azure.eventhub.EventData]]
    return:
      type:
      - None
  type: method
  uid: azure.eventhub.aio.EventHubConsumerClient.receive
- class: azure.eventhub.aio.EventHubConsumerClient
  example:
  - "Receive events in batches from the EventHub.<!--[!code-python[Main](les\\async_samples\\\
    sample_code_eventhub_async.py )]-->\n\n<!-- literal_block {\"ids\": [], \"classes\"\
    : [], \"names\": [], \"dupnames\": [], \"backrefs\": [], \"source\": \"D:\\\\\
    a\\\\1\\\\s\\\\source_code\\\\9\\\\azure-eventhub-5.1.0b1\\\\samples\\\\async_samples\\\
    \\sample_code_eventhub_async.py\", \"xml:space\": \"preserve\", \"language\":\
    \ \"python\", \"linenos\": false, \"highlight_args\": {\"linenostart\": 1}} -->\n\
    \n````python\n\n       logger = logging.getLogger(\"azure.eventhub\")\n\n    \
    \   async def on_event_batch(partition_context, event_batch):\n           # Put\
    \ your code here.\n           # If the operation is i/o intensive, async will\
    \ have better performance.\n           logger.info(\n               \"{} events\
    \ received from partition: {}\".format(len(event_batch), partition_context.partition_id)\n\
    \           )\n\n       async with consumer:\n           await consumer.receive_batch(\n\
    \               on_event_batch=on_event_batch,\n               starting_position=\"\
    -1\",  # \"-1\" is from the beginning of the partition.\n           )\n\n   ````\n"
  fullName: azure.eventhub.aio.EventHubConsumerClient.receive_batch
  langs:
  - python
  module: azure.eventhub.aio
  name: receive_batch
  namewithoutparameters: receive_batch
  summary: Receive events from partition(s) in batches, with optional load-balancing
    and checkpointing.
  syntax:
    parameters:
    - description: 'The callback function for handling a batch of received events.
        The callback takes two

        parameters: *partition_context* which contains partition context and *event_batch*,
        which is the received

        events. The callback function should be defined like: *on_event_batch(partition_context,
        event_batch)*.

        *event_batch* could be an empty list if *max_wait_time* is not None nor 0
        and no event is received

        after *max_wait_time*.

        For detailed partition context information, please refer to

        <xref:azure.eventhub.aio.PartitionContext>.'
      id: on_event_batch
      isRequired: true
      type:
      - Callable[azure.eventhub.aio.PartitionContext, List[azure.eventhub.EventData]]
    return:
      type:
      - None
  type: method
  uid: azure.eventhub.aio.EventHubConsumerClient.receive_batch
references:
- fullName: azure.eventhub.aio.EventHubConsumerClient.close
  isExternal: false
  name: close() -> None
  parent: azure.eventhub.aio.EventHubConsumerClient
  uid: azure.eventhub.aio.EventHubConsumerClient.close
- fullName: azure.eventhub.aio.EventHubConsumerClient.from_connection_string
  isExternal: false
  name: from_connection_string
  parent: azure.eventhub.aio.EventHubConsumerClient
  uid: azure.eventhub.aio.EventHubConsumerClient.from_connection_string
- fullName: azure.eventhub.aio.EventHubConsumerClient.get_eventhub_properties
  isExternal: false
  name: get_eventhub_properties() -> typing.Dict[str, typing.Any]
  parent: azure.eventhub.aio.EventHubConsumerClient
  uid: azure.eventhub.aio.EventHubConsumerClient.get_eventhub_properties
- fullName: azure.eventhub.aio.EventHubConsumerClient.get_partition_ids
  isExternal: false
  name: get_partition_ids() -> typing.List[str]
  parent: azure.eventhub.aio.EventHubConsumerClient
  uid: azure.eventhub.aio.EventHubConsumerClient.get_partition_ids
- fullName: azure.eventhub.aio.EventHubConsumerClient.get_partition_properties
  isExternal: false
  name: 'get_partition_properties(partition_id: str) -> typing.Dict[str, typing.Any]'
  parent: azure.eventhub.aio.EventHubConsumerClient
  uid: azure.eventhub.aio.EventHubConsumerClient.get_partition_properties
- fullName: azure.eventhub.aio.EventHubConsumerClient.receive
  isExternal: false
  name: receive
  parent: azure.eventhub.aio.EventHubConsumerClient
  uid: azure.eventhub.aio.EventHubConsumerClient.receive
- fullName: azure.eventhub.aio.EventHubConsumerClient.receive_batch
  isExternal: false
  name: receive_batch
  parent: azure.eventhub.aio.EventHubConsumerClient
  uid: azure.eventhub.aio.EventHubConsumerClient.receive_batch
- fullName: list[str]
  name: list[str]
  spec.python:
  - fullName: list
    name: list
    uid: list
  - fullName: '['
    name: '['
  - fullName: str
    name: str
    uid: str
  - fullName: ']'
    name: ']'
  uid: list[str]
- fullName: Callable[azure.eventhub.aio.PartitionContext, Optional[azure.eventhub.EventData]]
  name: Callable[PartitionContext, Optional[EventData]]
  spec.python:
  - fullName: Callable
    name: Callable
    uid: Callable
  - fullName: '['
    name: '['
  - fullName: azure.eventhub.aio.PartitionContext
    name: PartitionContext
    uid: azure.eventhub.aio.PartitionContext
  - fullName: ', '
    name: ', '
  - fullName: Optional
    name: Optional
    uid: Optional
  - fullName: '['
    name: '['
  - fullName: azure.eventhub.EventData
    name: EventData
    uid: azure.eventhub.EventData
  - fullName: ']'
    name: ']'
  - fullName: ']'
    name: ']'
  uid: Callable[azure.eventhub.aio.PartitionContext, Optional[azure.eventhub.EventData]]
- fullName: Callable[azure.eventhub.aio.PartitionContext, List[azure.eventhub.EventData]]
  name: Callable[PartitionContext, List[EventData]]
  spec.python:
  - fullName: Callable
    name: Callable
    uid: Callable
  - fullName: '['
    name: '['
  - fullName: azure.eventhub.aio.PartitionContext
    name: PartitionContext
    uid: azure.eventhub.aio.PartitionContext
  - fullName: ', '
    name: ', '
  - fullName: List
    name: List
    uid: List
  - fullName: '['
    name: '['
  - fullName: azure.eventhub.EventData
    name: EventData
    uid: azure.eventhub.EventData
  - fullName: ']'
    name: ']'
  - fullName: ']'
    name: ']'
  uid: Callable[azure.eventhub.aio.PartitionContext, List[azure.eventhub.EventData]]
